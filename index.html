<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi San Valent√≠n üíò</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Lato:wght@300;400&display=swap" rel="stylesheet">

    <style>
        *, *::before, *::after { box-sizing: border-box; }

        :root {
            --rose:  #e63946;
            --blush: #f7a8b0;
            --cream: #fff6f7;
            --gold:  #c9a84c;
            --dark:  #3a1a1a;
        }

        body {
            min-height: 100vh;
            margin: 0;
            font-family: 'Lato', sans-serif;
            background: var(--cream);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ‚îÄ‚îÄ BACKGROUND ‚îÄ‚îÄ */
        .bg-canvas {
            position: fixed;
            inset: 0;
            background: linear-gradient(160deg, #fce4ec 0%, #fff1f3 40%, #fde2e8 100%);
            z-index: 0;
        }

        .petals {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            top: -60px;
            animation: fall linear infinite;
            opacity: 0;
        }

        @keyframes fall {
            0%   { transform: translateY(0) rotate(0deg); opacity: 0; }
            5%   { opacity: 1; }
            90%  { opacity: 0.7; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        .glow-ring {
            position: fixed;
            width: 650px;
            height: 650px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(230,57,70,.18) 0%, transparent 70%);
            animation: pulse-glow 4s ease-in-out infinite alternate;
            z-index: 1;
            pointer-events: none;
            left: 50%; top: 50%;
            transform: translate(-50%, -50%);
        }
        @keyframes pulse-glow {
            from { transform: translate(-50%,-50%) scale(0.9); opacity: .6; }
            to   { transform: translate(-50%,-50%) scale(1.15); opacity: 1; }
        }

        /* ‚îÄ‚îÄ CARD ‚îÄ‚îÄ */
        .valentine-card {
            position: relative;
            z-index: 10;
            background: rgba(255,255,255,0.88);
            backdrop-filter: blur(18px);
            -webkit-backdrop-filter: blur(18px);
            border: 1.5px solid rgba(230,57,70,0.18);
            border-radius: 32px;
            max-width: 460px;
            width: 92%;
            padding: 36px 28px 28px;
            text-align: center;
            box-shadow:
                0 2px 0 rgba(201,168,76,.35),
                0 20px 60px rgba(230,57,70,.22),
                0 4px 20px rgba(0,0,0,.08);
            animation: card-in 0.9s cubic-bezier(.22,1,.36,1) both;
            overflow: hidden;
        }

        @keyframes card-in {
            from { opacity: 0; transform: translateY(40px) scale(.96); }
            to   { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Shimmer top stripe */
        .valentine-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 5px;
            border-radius: 32px 32px 0 0;
            background: linear-gradient(90deg, var(--blush), var(--rose), var(--gold), var(--rose), var(--blush));
            background-size: 200%;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer {
            0%   { background-position: 200% center; }
            100% { background-position: -200% center; }
        }

        /* Corner hearts */
        .valentine-card::after {
            content: '‚ù§Ô∏è ‚ù§Ô∏è';
            position: absolute;
            bottom: 12px; right: 16px;
            font-size: 12px;
            opacity: .3;
            letter-spacing: 4px;
        }

        /* ‚îÄ‚îÄ PHOTO ‚îÄ‚îÄ */
        .photo-frame {
            width: 100%;
            height: 220px;
            margin-bottom: 18px;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 8px 24px rgba(230,57,70,.2), 0 0 0 3px rgba(230,57,70,.12);
            position: relative;
        }

        .photo-frame::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 18px;
            box-shadow: inset 0 0 30px rgba(230,57,70,.15);
            pointer-events: none;
        }

        #photo {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #fff5f6;
            transition: opacity 0.3s ease;
        }

        /* ‚îÄ‚îÄ TITLE ‚îÄ‚îÄ */
        #title {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-weight: 400;
            color: var(--rose);
            font-size: clamp(1.05rem, 4vw, 1.5rem);
            line-height: 1.35;
            margin-bottom: 6px;
            transition: opacity .4s;
            word-break: break-word;
        }

        /* ‚îÄ‚îÄ DIVIDER ‚îÄ‚îÄ */
        .divider {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 8px 0 20px;
            color: var(--blush);
            font-size: 12px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        .divider::before, .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--blush));
        }
        .divider::after { background: linear-gradient(90deg, var(--blush), transparent); }

        /* ‚îÄ‚îÄ BUTTON ZONE ‚îÄ‚îÄ */
        #btnGroup {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            min-height: 60px;
        }

        .btn-valentine {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.05rem;
            padding: 11px 32px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            white-space: nowrap;
            flex-shrink: 0;
            position: relative;
            transform-origin: center center;
            transition: box-shadow .2s, filter .2s, font-size .3s, padding .3s;
        }

        .btn-valentine:active { filter: brightness(.92); }

        #yesBtn {
            background: linear-gradient(135deg, #e63946, #c1121f);
            color: #fff;
            box-shadow: 0 6px 20px rgba(230,57,70,.45);
        }
        #yesBtn:hover {
            box-shadow: 0 10px 28px rgba(230,57,70,.55);
            filter: brightness(1.08);
        }

        #noBtn {
            background: linear-gradient(135deg, #f8c8cc, #f0a0aa);
            color: var(--dark);
            box-shadow: 0 4px 14px rgba(230,57,70,.18);
        }
        #noBtn:hover {
            box-shadow: 0 8px 20px rgba(230,57,70,.25);
            filter: brightness(1.05);
        }

        /* ‚îÄ‚îÄ CARTA BUTTON ‚îÄ‚îÄ */
        #cartaBtn {
            display: none;
            margin-top: 16px;
            background: linear-gradient(135deg, var(--gold), #b8943c);
            color: #fff;
            box-shadow: 0 6px 20px rgba(201,168,76,.45);
            animation: final-pop .6s cubic-bezier(.22,1,.36,1) both;
        }
        #cartaBtn:hover {
            box-shadow: 0 10px 28px rgba(201,168,76,.55);
            filter: brightness(1.08);
        }

        /* ‚îÄ‚îÄ MESSAGE ‚îÄ‚îÄ */
        #message {
            margin-top: 18px;
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: clamp(1rem, 4vw, 1.25rem);
            color: var(--rose);
            min-height: 36px;
            opacity: 0;
            transform: translateY(8px);
            transition: opacity .5s ease, transform .5s ease;
            word-break: break-word;
        }

        #message.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* ‚îÄ‚îÄ HEARTS BURST ‚îÄ‚îÄ */
        .heart-burst {
            position: fixed;
            pointer-events: none;
            z-index: 999;
            font-size: 26px;
            animation: burst .9s ease-out forwards;
        }

        @keyframes burst {
            0%   { opacity: 1; transform: translate(0,0) scale(0.5); }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1.4); }
        }

        /* ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ */
        #confettiCanvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 998;
        }

        /* ‚îÄ‚îÄ FINAL POP ‚îÄ‚îÄ */
        @keyframes final-pop {
            from { transform: scale(.7); opacity: 0; }
            to   { transform: scale(1);  opacity: 1; }
        }
    </style>
</head>
<body>

    <div class="bg-canvas"></div>
    <div class="glow-ring"></div>
    <div class="petals" id="petalsContainer"></div>
    <canvas id="confettiCanvas"></canvas>

    <div class="valentine-card">

        <div class="photo-frame">
            <img id="photo" src="foto1.jpg" alt="imagen">
        </div>

        <h1 id="title">¬øQuieres ser mi San Valent√≠n?</h1>

        <div class="divider">‚ô• 14 de febrero ‚ô•</div>

        <div id="btnGroup">
            <button id="yesBtn" class="btn-valentine">S√≠ üíò</button>
            <button id="noBtn"  class="btn-valentine">No üò¢</button>
        </div>

        <div id="message"></div>
        <button id="cartaBtn" class="btn-valentine">Ir a la carta üíå</button>

    </div>

    <script>
    /* ‚îÄ‚îÄ PETALS ‚îÄ‚îÄ */
    const symbols = ['üå∏','üíï','üíó','üåπ','üíñ','‚ú®','ü¶ã','üíù'];
    const petalContainer = document.getElementById('petalsContainer');

    function createPetal() {
        const el = document.createElement('span');
        el.className = 'petal';
        el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        el.style.left = (Math.random() * 100) + 'vw';
        const dur = 6 + Math.random() * 8;
        el.style.animationDuration = dur + 's';
        el.style.animationDelay    = (Math.random() * 8) + 's';
        el.style.fontSize = (14 + Math.random() * 16) + 'px';
        petalContainer.appendChild(el);
        setTimeout(() => el.remove(), (dur + 8) * 1000);
    }
    for (let i = 0; i < 22; i++) createPetal();
    setInterval(createPetal, 600);


    /* ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ */
    const canvas = document.getElementById('confettiCanvas');
    const ctx    = canvas.getContext('2d');
    let pieces   = [];

    function resizeCanvas() {
        canvas.width  = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function launchConfetti() {
        const colors = ['#e63946','#f7a8b0','#c9a84c','#ff6b8a','#ff9bb5','#ffffff'];
        for (let i = 0; i < 180; i++) {
            pieces.push({
                x: Math.random() * canvas.width,
                y: -10 - Math.random() * canvas.height * .5,
                w: 6 + Math.random() * 8,
                h: 4 + Math.random() * 5,
                color: colors[Math.floor(Math.random() * colors.length)],
                vy: 2 + Math.random() * 4,
                vx: (Math.random() - .5) * 3,
                rot: Math.random() * 360,
                rotV: (Math.random() - .5) * 6,
                alpha: 1,
            });
        }
        requestAnimationFrame(drawConfetti);
    }

    function drawConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        pieces.forEach(p => {
            p.y += p.vy; p.x += p.vx; p.rot += p.rotV;
            if (p.y > canvas.height * .85) p.alpha -= 0.012;
            ctx.save();
            ctx.translate(p.x, p.y);
            ctx.rotate(p.rot * Math.PI / 180);
            ctx.globalAlpha = Math.max(0, p.alpha);
            ctx.fillStyle = p.color;
            ctx.beginPath();
            ctx.ellipse(0, 0, p.w / 2, p.h / 2, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();
        });
        pieces = pieces.filter(p => p.alpha > 0);
        if (pieces.length > 0) requestAnimationFrame(drawConfetti);
    }


    /* ‚îÄ‚îÄ HEART BURST ‚îÄ‚îÄ */
    function spawnHearts(x, y) {
        for (let i = 0; i < 14; i++) {
            const el = document.createElement('span');
            el.className   = 'heart-burst';
            el.textContent = ['üíñ','üíó','üíì','üíï','‚ù§Ô∏è'][Math.floor(Math.random() * 5)];
            el.style.left  = x + 'px';
            el.style.top   = y + 'px';
            const angle = Math.random() * 2 * Math.PI;
            const dist  = 80 + Math.random() * 140;
            el.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
            el.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
            el.style.animationDelay = (Math.random() * .1) + 's';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1100);
        }
    }


    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       L√ìGICA ORIGINAL ‚Äî SIN CAMBIOS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    const photo    = document.getElementById("photo");
    const message  = document.getElementById("message");
    const title    = document.getElementById("title");
    const yesBtn   = document.getElementById("yesBtn");
    const noBtn    = document.getElementById("noBtn");
    const cartaBtn = document.getElementById("cartaBtn");

    const steps = [
        { img: "foto2.jpg", msg: "¬øSegura? ü•∫" },
        { img: "foto3.jpg", msg: "Pi√©nsalo mejor‚Ä¶ üò¢" },
        { img: "foto4.jpg", msg: "Reconsid√©ralo üíî" },
        { img: "foto5.jpg", msg: "¬°√öltima oportunidad! üò∞" },
        { img: "foto6.jpg", msg: "Ya no puedes escapar üòèüíñ" }
    ];

    let clicks = 0, base = 18, finished = false;

    function showMsg(t) {
        message.classList.remove('show');
        setTimeout(() => {
            message.innerText = t;
            message.classList.add('show');
        }, 150);
    }

    function changePhoto(s) {
        photo.style.opacity = '0';
        setTimeout(() => {
            photo.src = s;
            photo.style.opacity = '1';
        }, 180);
    }

    noBtn.onclick = () => {
        if (clicks < steps.length) {
            changePhoto(steps[clicks].img);
            showMsg(steps[clicks].msg);
            base += 12;
            yesBtn.style.fontSize = base + "px";
            yesBtn.style.padding  = (11 + clicks * 6) + "px " + (32 + clicks * 12) + "px";
            clicks++;
        }
        if (clicks >= steps.length) noBtn.style.display = "none";
    };

    yesBtn.onclick = (e) => {
        if (finished) return;
        finished = true;

        spawnHearts(e.clientX, e.clientY);

        changePhoto("foto7.jpg");
        showMsg("¬°Mi Chelito, sab√≠a que dir√≠as que s√≠! üíç‚ù§Ô∏è");

        noBtn.style.display  = "none";
        yesBtn.style.display = "none";
        title.style.display  = "none";

        cartaBtn.style.display = "inline-block";

        setTimeout(launchConfetti, 300);

        // Extra hearts wave
        setTimeout(() => {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => spawnHearts(
                    Math.random() * window.innerWidth,
                    Math.random() * window.innerHeight * .6
                ), i * 180);
            }
        }, 700);
    };

    cartaBtn.onclick = () => window.location.href = "carta.html";
    </script>

</body>

</html>
